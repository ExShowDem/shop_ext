<?xml version="1.0" encoding="utf-8"?>
<form>
	<fieldset addfieldpath="/libraries/redshopb/form/fields">
		<field
				name="id"
				type="hidden"
				default="0"
				label="COM_REDSHOPB_ID_LABEL"
				description="COM_REDSHOPB_ID_DESC"
				readonly="true"
				/>
		<field
			name="product_id"
			type="redshopb.list_ajax"
			label="COM_REDSHOPB_PRODUCT"
			description="COM_REDSHOPB_PRODUCT_COMPOSITION_PRODUCT_DESC"
			formName="product_composition"
			model="site:Products"
			filter="{ 'filter.state': 1, 'filter.discontinued': 0 }"
			completionFilter="filter.search"
			property="name"
			ordering="p.name"
			multiple="false"
			allowCreate="false"
			limit="10"
			hint="JSELECT"
			required="true"
			onchange="updateMainAttributes(jQuery(this).val())"
		/>
		<field
				name="flat_attribute_value_id"
				type="attributeflatdisplayvalues"
				label="COM_REDSHOPB_PRODUCT_COMPOSITION_FLAT_ATTRIBUTE_LABEL"
				description="COM_REDSHOPB_PRODUCT_COMPOSITION_FLAT_ATTRIBUTE_DESC"
				dependsOnField="product_id">
			<option value="">JOPTION_SELECT_ATTRIBUTE_NAME</option>
		</field>
		<field
				name="type"
				type="text"
				label="COM_REDSHOPB_PRODUCT_COMPOSITION_TYPE"
				description="COM_REDSHOPB_PRODUCT_COMPOSITION_TYPE_DESC"
				required="true"
				/>
		<field
				name="quality"
				type="textarea"
				label="COM_REDSHOPB_PRODUCT_COMPOSITION_QUALITY"
				description="COM_REDSHOPB_PRODUCT_COMPOSITION_QUALITY_DESC"
		        required="true"
				/>
	</fieldset>
</form>
